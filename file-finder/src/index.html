<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>File Finder</title>
    <script type="module" src="/main.js" defer></script>
  </head>

  <body>
    <div class="app">
      <div class="header">
        <h1>File Finder</h1>
        <div class="status">
          <span id="index-status">Initializing...</span>
          <button id="index-folder-btn" class="btn-small" style="margin-left: 10px;">Re-index</button>
        </div>
      </div>

      <div class="search-container">
        <input
          type="text"
          id="search-input"
          placeholder="Type to search files... (supports glob * ? and regex)"
          autofocus
        />
        <button id="settings-btn" class="settings-btn" title="Search Settings">⚙️</button>
      </div>

      <!-- Settings Panel -->
      <div id="settings-panel" class="settings-panel hidden">
        <h3>Search Settings</h3>
        <div class="settings-content">
          <label class="setting-item">
            <input type="checkbox" id="search-folders" checked />
            <span>Search in folder names</span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="search-fuzzy" checked />
            <span>Enable fuzzy matching</span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="search-strict" />
            <span>Strict mode (exact/prefix only)</span>
          </label>
          <label class="setting-item">
            <input type="checkbox" id="search-filename-only" />
            <span>Filename only (ignore paths)</span>
          </label>
        </div>
        
        <h3 style="margin-top: 20px; border-top: 1px solid var(--border); padding-top: 15px;">Auto Reindex</h3>
        <div class="settings-content">
          <label class="setting-item">
            <input type="checkbox" id="auto-reindex" checked />
            <span>Enable automatic nighttime reindex</span>
          </label>
          <div class="time-range-info">
            <small>Reindexes daily between 2:00 AM - 5:00 AM</small>
          </div>
        </div>
      </div>

      <div class="tabs-container">
        <div class="tabs">
          <button class="tab-btn active" data-tab="search">Search Results</button>
          <button class="tab-btn" data-tab="favorites">Favorites</button>
          <button class="tab-btn" data-tab="recent">Recent Files</button>
        </div>
      </div>

      <div class="results-container">
        <div id="search-results" class="tab-content active">
          <div class="sort-tabs">
            <button class="sort-btn active" data-sort="relevance" data-tab="search">Relevance</button>
            <button class="sort-btn" data-sort="date" data-tab="search">Date Modified</button>
            <button class="sort-btn" data-sort="usage" data-tab="search">Usage</button>
          </div>
          <div id="results-list"></div>
        </div>
        <div id="favorites-results" class="tab-content">
          <div class="sort-tabs">
            <button class="sort-btn active" data-sort="name" data-tab="favorites">Name</button>
            <button class="sort-btn" data-sort="date" data-tab="favorites">Date Modified</button>
            <button class="sort-btn" data-sort="usage" data-tab="favorites">Usage</button>
          </div>
          <div id="favorites-list"></div>
        </div>
        <div id="recent-results" class="tab-content">
          <div class="sort-tabs">
            <button class="sort-btn active" data-sort="usage" data-tab="recent">Most Used</button>
            <button class="sort-btn" data-sort="date" data-tab="recent">Most Recent</button>
          </div>
          <div id="recent-list"></div>
        </div>
      </div>

      <div class="help-text">
        <kbd>↑</kbd><kbd>↓</kbd> or <kbd>j</kbd><kbd>k</kbd> to navigate (when not typing) • <kbd>gg</kbd> first • <kbd>G</kbd> last • <kbd>Ctrl+d/u</kbd> half page • <kbd>Enter</kbd> to open • <kbd>F5</kbd>/<kbd>Ctrl+R</kbd> refresh • <kbd>Ctrl+Shift+D</kbd> debug • <kbd>Esc</kbd> to clear
      </div>
    </div>
  </body>
</html>
